<div class="container bg-light p-3">
  <form
    dir="rtl"
    (ngSubmit)="handleSubmit()"
    [formGroup]="form">
    <mat-form-field class="w-100">
      <input
        formControlName="name"
        maxlength="45"
        required
        matInput
        placeholder="שם">
    </mat-form-field>
    <mat-form-field class="w-100">
      <input
        formControlName="imgURL"
        maxlength="250"
        required
        matInput
        placeholder="תמונה (לינק בלבד)">
    </mat-form-field>
    <app-img-preview
      [width]="200"
      [height]="200"
      [in]="form.get('imgURL').value"
      [src]="form.get('imgURL').value">
    </app-img-preview>
    <mat-form-field class="w-100">
      <input
        formControlName="role"
        maxlength="45"
        required
        matInput
        placeholder="תפקיד">
    </mat-form-field>
    <mat-form-field class="w-100">
      <input
        formControlName="biography"
        maxlength="300"
        required
        matInput
        placeholder="ביוגרפיה">
    </mat-form-field>
    <div class="container"
        formGroupName="abilities">
      <h3 class="text-primary text-right">יכולות</h3>
      <hr />
      <div class="row">
        <div class="col-xs-12 col-sm-6"
            formGroupName="abilityQ">
          <mat-form-field class="w-100">
            <input
              formControlName="name"
              matInput
              placeholder="יכולת ה- Q">
          </mat-form-field>
          <mat-form-field class="w-100">
            <input
              formControlName="description"
              matInput
              placeholder="תיאור">
          </mat-form-field>
          <mat-form-field class="w-100">
            <input
              formControlName="image"
              matInput
              placeholder="תמונה (לינק בלבד)">
          </mat-form-field>
          <app-img-preview
            [width]="100"
            [height]="100"
            [in]="form.get('abilities.abilityQ.image').value"
            [src]="form.get('abilities.abilityQ.image').value">
          </app-img-preview>
          <mat-form-field class="w-100">
            <input
              formControlName="videoURL"
              matInput
              placeholder="תסריט MP4 (לינק בלבד)">
          </mat-form-field>
        </div>
        <div class="col-xs-12 col-sm-6"
            formGroupName="abilityE">
          <mat-form-field class="w-100">
            <input
              formControlName="name"
              matInput
              placeholder="יכולת ה- E">
          </mat-form-field>
          <mat-form-field class="w-100">
            <input
              formControlName="description"
              matInput
              placeholder="תיאור">
          </mat-form-field>
          <mat-form-field class="w-100">
            <input
              formControlName="image"
              matInput
              placeholder="תמונה (לינק בלבד)">
          </mat-form-field>
          <app-img-preview
            [width]="100"
            [height]="100"
            [in]="form.get('abilities.abilityE.image').value"
            [src]="form.get('abilities.abilityE.image').value">
          </app-img-preview>
          <mat-form-field class="w-100">
            <input
              formControlName="videoURL"
              matInput
              placeholder="תסריט MP4 (לינק בלבד)">
          </mat-form-field>
        </div>
      </div>
      <hr />
      <div class="row">
        <div class="col-xs-12 col-sm-6"
            formGroupName="abilityC">
          <mat-form-field class="w-100">
            <input
              formControlName="name"
              matInput
              placeholder="יכולת ה- C">
          </mat-form-field>
          <mat-form-field class="w-100">
            <input
              formControlName="description"
              matInput
              placeholder="תיאור">
          </mat-form-field>
          <mat-form-field class="w-100">
            <input
              formControlName="image"
              matInput
              placeholder="תמונה (לינק בלבד)">
          </mat-form-field>
          <app-img-preview
            [width]="100"
            [height]="100"
            [in]="form.get('abilities.abilityC.image').value"
            [src]="form.get('abilities.abilityC.image').value">
          </app-img-preview>
          <mat-form-field class="w-100">
            <input
              formControlName="videoURL"
              matInput
              placeholder="תסריט MP4 (לינק בלבד)">
          </mat-form-field>
        </div>
        <div class="col-xs-12 col-sm-6"
            formGroupName="abilityX">
          <mat-form-field class="w-100">
            <input
              formControlName="name"
              matInput
              placeholder="יכולת ה- X">
          </mat-form-field>
          <mat-form-field class="w-100">
            <input
              formControlName="description"
              matInput
              placeholder="תיאור">
          </mat-form-field>
          <mat-form-field class="w-100">
            <input
              formControlName="image"
              matInput
              placeholder="תמונה (לינק בלבד)">
          </mat-form-field>
          <app-img-preview
            [width]="100"
            [height]="100"
            [in]="form.get('abilities.abilityX.image').value"
            [src]="form.get('abilities.abilityX.image').value">
          </app-img-preview>
          <mat-form-field class="w-100">
            <input
              formControlName="videoURL"
              matInput
              placeholder="תסריט MP4 (לינק בלבד)">
          </mat-form-field>
        </div>
      </div>
    </div>

    <div *ngIf="isLoading" class="d-flex">
      <div
        class="spinner-border m-auto"
        role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <div *ngIf="!isLoading" class="d-flex justify-content-between">
      <button
        [disabled]="form.invalid"
        *ngIf="!isLoading"
        mat-raised-button
        class="w-25"
        type="submit">Save</button>
      <button
        [disabled]="form.invalid"
        *ngIf="!isLoading"
        mat-raised-button
        color="warn"
        class="w-25"
        type="reset">Reset All</button>
    </div>
  </form>
</div>
